<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tema 4: Cobertura y Refactor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Outfit', sans-serif; }
        .bg-graph { background-color: #0f172a; background-image: linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px); background-size: 30px 30px; }
        .glass { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
    </style>
</head>
<body class="bg-graph text-white p-4 md:p-8 min-h-screen">

    <div class="max-w-6xl mx-auto space-y-12">

        <!-- HEADER -->
        <header class="text-center py-8">
            <div class="inline-block bg-orange-500 text-black font-bold px-4 py-1 rounded-full text-xs uppercase tracking-widest mb-4">Ingenier√≠a de Software</div>
            <h1 class="text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-amber-200">
                COBERTURA Y<br>REFACTORIZACI√ìN
            </h1>
            <p class="text-slate-400 text-xl mt-4">Profesionalizando el c√≥digo: M√©tricas y Arquitectura Limpia.</p>
        </header>

        <!-- SECTION 1: TEST COVERAGE -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            
            <!-- Definici√≥n y Comando -->
            <div class="glass rounded-3xl p-8 flex flex-col justify-center">
                <h2 class="text-3xl font-bold text-cyan-400 mb-4 flex items-center">
                    <span class="text-4xl mr-3">üì°</span> Test Coverage
                </h2>
                <p class="text-slate-300 mb-6 text-lg">
                    Es la m√©trica que nos dice <strong>cu√°nto de nuestro c√≥digo</strong> est√° siendo ejecutado realmente por las pruebas.
                </p>
                <div class="bg-black rounded-xl p-4 font-mono text-sm border-l-4 border-cyan-500 shadow-2xl">
                    <span class="text-slate-500"># Comando para medir cobertura</span><br>
                    <span class="text-green-400">npm</span> test -- --coverage
                </div>
                <div class="mt-4 text-xs text-slate-500 text-center">
                    Genera reporte visual en carpeta <span class="text-white font-mono">coverage/</span>
                </div>
            </div>

            <!-- Las 4 M√©tricas -->
            <div class="glass rounded-3xl p-8">
                <h3 class="text-xl font-bold text-white mb-6 border-b border-slate-700 pb-2">Las 4 M√©tricas Clave</h3>
                <div class="grid grid-cols-2 gap-4">
                    <!-- Lines -->
                    <div class="bg-slate-800/50 p-4 rounded-xl border border-slate-700">
                        <div class="text-cyan-400 font-bold text-lg">Lines</div>
                        <p class="text-xs text-slate-400 mt-1">¬øPasamos por todas las l√≠neas de c√≥digo?</p>
                    </div>
                    <!-- Funcs -->
                    <div class="bg-slate-800/50 p-4 rounded-xl border border-slate-700">
                        <div class="text-purple-400 font-bold text-lg">Functions</div>
                        <p class="text-xs text-slate-400 mt-1">¬øSe llamaron todas las funciones definidas?</p>
                    </div>
                    <!-- Branch (Importante) -->
                    <div class="bg-slate-800/50 p-4 rounded-xl border border-slate-700 col-span-2 relative overflow-hidden">
                        <div class="absolute right-0 top-0 p-4 opacity-10 text-5xl">üåø</div>
                        <div class="text-yellow-400 font-bold text-lg">Branches (Ramas)</div>
                        <p class="text-sm text-slate-300 mt-1">
                            La m√°s importante. Verifica si probaste los <span class="font-mono bg-black px-1 rounded">if</span>, <span class="font-mono bg-black px-1 rounded">else</span> y casos de error.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SECTION 2: REFACTORIZACI√ìN -->
        <div class="glass rounded-3xl p-8 border border-orange-500/30">
            <div class="flex flex-col md:flex-row items-center justify-between gap-8">
                <div class="flex-1">
                    <h2 class="text-3xl font-bold text-orange-400 mb-4">‚ôªÔ∏è Refactorizaci√≥n Segura</h2>
                    <p class="text-slate-300 text-lg mb-4">
                        Modificar la estructura interna del c√≥digo para limpiarlo, <strong>sin cambiar su comportamiento externo</strong>.
                    </p>
                    <div class="bg-orange-900/20 border border-orange-500/50 p-4 rounded-xl text-orange-200 text-sm">
                        "Es como reorganizar los muebles de la casa para que sea m√°s espaciosa, sin quitar ninguna habitaci√≥n."
                    </div>
                </div>

                <!-- El Ciclo de Seguridad -->
                <div class="flex-1 flex justify-center">
                    <div class="relative w-full max-w-md">
                        <div class="flex justify-between items-center text-center">
                            <div class="flex flex-col items-center">
                                <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-xl font-bold mb-2 shadow-[0_0_15px_rgba(34,197,94,0.6)]">1</div>
                                <span class="text-xs font-bold text-green-400">TESTS<br>VERDES</span>
                            </div>
                            <div class="h-1 bg-slate-600 flex-grow mx-2"></div>
                            <div class="flex flex-col items-center">
                                <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-xl font-bold mb-2 shadow-[0_0_15px_rgba(59,130,246,0.6)]">2</div>
                                <span class="text-xs font-bold text-blue-400">REFACTOR<br>(LIMPIEZA)</span>
                            </div>
                            <div class="h-1 bg-slate-600 flex-grow mx-2"></div>
                            <div class="flex flex-col items-center">
                                <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-xl font-bold mb-2 shadow-[0_0_15px_rgba(34,197,94,0.6)]">3</div>
                                <span class="text-xs font-bold text-green-400">TESTS<br>VERDES</span>
                            </div>
                        </div>
                        <p class="text-center text-xs text-slate-500 mt-4">Si el paso 3 falla üî¥, deshaces el cambio.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SECTION 3: NUEVA ARQUITECTURA -->
        <div class="bg-white text-slate-900 rounded-3xl p-8 shadow-2xl">
            <h2 class="text-3xl font-bold text-slate-800 mb-8 text-center">LA NUEVA ARQUITECTURA (Capas)</h2>

            <div class="flex flex-col md:flex-row gap-6 justify-center items-stretch">
                
                <!-- Controller -->
                <div class="flex-1 bg-slate-100 p-6 rounded-2xl border-2 border-slate-200 flex flex-col items-center text-center hover:border-blue-500 transition duration-300">
                    <div class="text-5xl mb-4">üëÆ‚Äç‚ôÇÔ∏è</div>
                    <h3 class="text-xl font-bold text-blue-600">CONTROLLER</h3>
                    <span class="text-xs font-bold bg-blue-100 text-blue-800 px-2 py-1 rounded mt-2 mb-4">El Recepcionista</span>
                    <ul class="text-sm text-slate-600 space-y-2 text-left w-full">
                        <li>‚úÖ Recibe HTTP (Req/Res)</li>
                        <li>‚úÖ Valida datos b√°sicos</li>
                        <li>‚úÖ Responde c√≥digos (200, 400)</li>
                        <li>‚ùå <strong>NO</strong> sabe de l√≥gica compleja</li>
                    </ul>
                </div>

                <!-- Arrow -->
                <div class="hidden md:flex items-center text-slate-300 text-4xl">‚ûî</div>

                <!-- Service -->
                <div class="flex-1 bg-slate-100 p-6 rounded-2xl border-2 border-slate-200 flex flex-col items-center text-center hover:border-indigo-500 transition duration-300 transform scale-105 shadow-xl">
                    <div class="text-5xl mb-4">üß†</div>
                    <h3 class="text-xl font-bold text-indigo-600">SERVICE</h3>
                    <span class="text-xs font-bold bg-indigo-100 text-indigo-800 px-2 py-1 rounded mt-2 mb-4">El Experto (L√≥gica)</span>
                    <ul class="text-sm text-slate-600 space-y-2 text-left w-full">
                        <li>‚úÖ Contiene la L√≥gica de Negocio</li>
                        <li>‚úÖ Habla con la Base de Datos</li>
                        <li>‚úÖ Calcula, Transforma, Guarda</li>
                        <li>‚ùå <strong>NO</strong> sabe de HTTP (Req/Res)</li>
                    </ul>
                </div>

            </div>
        </div>

        <div class="text-center text-slate-500 text-xs pb-4">
            Ingenier√≠a de Software ‚Ä¢ Tema 4
        </div>

    </div>

</body>
</html>